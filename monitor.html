<!-- monitor.htmlï¼ˆç­é•¿ç«¯ï¼‰ -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>ç­é•¿ç«¯ - ä»»åŠ¡ç®¡ç†</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <script>
    // è½»åº¦æ··æ·†åçš„å¯†ç ï¼š"190cm" -> "MTkwY20="
    const encoded = "MTkwY20=";
    const password = atob(encoded);

    const userInput = prompt("ç­é•¿ï¼ˆç”·ï¼‰çš„èº«é«˜ï¼š");
    const ok = (userInput !== null) && (userInput.trim() === password);

    if (!ok) {
      alert("å¯†ç é”™è¯¯ï¼Œæ— æ³•è¿›å…¥ï¼");
      window.location.href = "index.html";
    } else {
      // é€šè¿‡éªŒè¯ï¼Œç»™ä¸šåŠ¡è„šæœ¬ä¸€ä¸ªé—¨ç¦æ ‡è®°
      window.__authorized = true;
    }
  </script>

  <style>
    body {
      font-family: "Segoe UI", "PingFang SC", sans-serif;
      background: linear-gradient(135deg, #ffe4ec, #d7e8ff);
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      color: #ff6699;
      font-size: 28px;
      margin-bottom: 20px;
      text-shadow: 1px 1px #fff;
    }
    .task-input {
      background: #fff;
      padding: 15px;
      border-radius: 15px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      width: 90%;
      max-width: 500px;
      margin-bottom: 20px;
    }
    .task-input input, .task-input textarea {
      width: 100%;
      padding: 10px;
      border: 2px solid #ffd6e0;
      border-radius: 10px;
      margin-bottom: 10px;
      font-size: 15px;
    }
    .task-input button {
      background: #66b3ff;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 25px;
      font-size: 15px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .task-input button:hover { background: #3385ff; }
    ul { list-style: none; padding: 0; width: 90%; max-width: 600px; }
    li {
      background: #fff; border-radius: 15px; padding: 15px; margin-bottom: 15px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
      display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;
    }
    .task-info { flex: 1; margin-right: 10px; }
    .task-title { font-weight: bold; color: #ff6699; margin-bottom: 5px; }
    .task-content { color: #555; }
    .task-buttons button {
      border: none; border-radius: 20px; padding: 8px 15px; margin-left: 8px;
      font-size: 14px; cursor: pointer; transition: transform 0.2s ease;
    }
    .task-buttons button:hover { transform: scale(1.05); }
    .edit-btn { background: #ffb366; color: white; }
    .delete-btn { background: #ff6666; color: white; }
  </style>
</head>
<body>
  <h1>ğŸŒ¸ ç­é•¿ä»»åŠ¡ç®¡ç†é¡µé¢</h1>

  <div class="task-input">
    <input type="text" id="taskTitle" placeholder="âœï¸ è¾“å…¥ä»»åŠ¡æ ‡é¢˜" />
    <textarea id="taskContent" placeholder="ğŸ“ è¾“å…¥ä»»åŠ¡å†…å®¹"></textarea>
    <button id="publishTask">ğŸ’Œ å‘å¸ƒä»»åŠ¡</button>
  </div>

  <h2>ğŸ“‹ å·²å‘å¸ƒä»»åŠ¡</h2>
  <ul id="taskList"></ul>

  <!-- åªæœ‰é€šè¿‡éªŒè¯æ‰åŠ è½½è„šæœ¬ -->
  <script>
    if (!window.__authorized) {
      // æœªé€šè¿‡éªŒè¯å°±æ¥åˆ°è¿™é‡Œï¼ˆæå°‘æ•°æµè§ˆå™¨è¡Œä¸ºå·®å¼‚ï¼‰ï¼Œç›´æ¥è¿”å›é¦–é¡µ
      window.location.replace("index.html");
    }
  </script>

  <!-- å¼•å…¥ Firebase åˆå§‹åŒ–ä¸ç­é•¿ç«¯é€»è¾‘ï¼ˆæ¨¡å—åŒ–å†™æ³•æ›´ç¨³ï¼‰ -->
  <script type="module" src="./firebase.js"></script>
  <script type="module" src="./monitor.js"></script>
</body>
</html>
